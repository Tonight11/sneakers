let pizzaMenu=document.querySelectorAll(".menu-catalog__item"),pizzaSize=document.querySelectorAll(".menu__link");pizzaMenu.forEach(function(t){t.addEventListener("click",function(){let e=t;e.classList.contains("active")||(pizzaMenu.forEach(e=>e.classList.remove("active")),this.classList.add("active"))})}),pizzaSize.forEach(function(t){t.addEventListener("click",function(){let e=t;e.classList.contains("active")||(pizzaSize.forEach(e=>e.classList.remove("active")),this.classList.add("active"))})});const forms=document.querySelectorAll(".form-send");let formSend=function(e){let t=new XMLHttpRequest;t.open("POST","../../php/mail.php"),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.onload=function(){console.log(t.response)},t.send()};for(let e=0;e<forms.length;e++)forms[e].addEventListener("submit",function(e){e.preventDefault();e=e.target;formSend(e)});let burger=document.querySelector(".menu__icon"),iconMenu=document.querySelector(".menu__body");burger&&burger.addEventListener("click",function(e){document.body.classList.toggle("lock"),burger.classList.toggle("active"),iconMenu.classList.toggle("active")});let catalogSection=document.querySelector(".section-catalog"),removeChildren=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},pushChild=function(t,o){removeChildren(t);for(let e=0;e<o.length;e++)t.appendChild(o[e])},catalogRow=catalogSection.querySelector(".pizza__row"),catalogItem=catalogSection.querySelectorAll(".pizza__column"),catalogNav=catalogSection.querySelector(".menu-catalog__nav");catalogNav.addEventListener("click",function(e){let t=e.target,o=t.closest(".menu-catalog__item");if(null!==o&&!o.classList.contains(".menu-catalog__item.active")){var a=o.getAttribute("data-filter");if("all"!==a){let t=[];for(let e=0;e<catalogItem.length;e++){const n=catalogItem[e];n.getAttribute("data-category")==a&&t.push(n)}pushChild(catalogRow,t)}else pushChild(catalogRow,catalogItem)}});let modalBtn=document.querySelectorAll("[data-modal]"),madalCLose=document.querySelectorAll(".popup__exit"),madalArea=document.querySelectorAll(".popup"),madalAreaSecond=document.querySelectorAll(".popup-thanks"),madalAreaCallback=document.querySelectorAll(".popup-callback");modalBtn.forEach(e=>{e.addEventListener("click",e=>{let t=e.currentTarget;e=t.getAttribute("data-modal");let o=document.getElementById(e),a=document.querySelector(".popup__content");document.querySelector(".popup__btn");a.addEventListener("click",e=>{e.stopPropagation()}),o.classList.add("open"),document.body.classList.add("lock")})}),madalCLose.forEach(e=>{e.addEventListener("click",e=>{let t=e.currentTarget.closest(".popup");t.classList.remove("open"),document.body.classList.remove("lock")})}),madalArea.forEach(e=>{e.addEventListener("click",e=>{let t=e.currentTarget;t.classList.remove("open"),document.body.classList.remove("lock")})}),madalAreaSecond.forEach(e=>{e.addEventListener("click",e=>{let t=e.currentTarget;t.classList.remove("open"),document.body.classList.remove("lock")})}),madalAreaCallback.forEach(e=>{e.addEventListener("click",e=>{let t=e.currentTarget,o=document.querySelector(".popup-callback__content");o.addEventListener("click",e=>{e.stopPropagation()}),t.classList.remove("open"),document.body.classList.remove("lock")})});let catalog=document.querySelector(".pizza"),thisSizeChoosen=function(e){e.closest(".pizza__item");e.classList.add("active")},changeProductPopup=function(e){let t=e.closest(".pizza__item"),o=document.querySelector(".popup");var a=t.querySelector(".pizza__title").textContent,n=t.querySelector(".pizza__img-item").getAttribute("src"),e=t.querySelector(".pizza__price").textContent;o.querySelector(".popup__info-title").setAttribute("value",a),o.querySelector(".popup__info-price").setAttribute("value",e),o.querySelector(".popup__name").textContent=a,o.querySelector(".popup__price").textContent=e,o.querySelector(".popup__img-item").setAttribute("src",n)};function DynamicAdapt(e){this.type=e}catalog.addEventListener("click",function(e){let t=e.target;t.classList.contains("pizza__btn")&&(e.preventDefault(),changeProductPopup(t))}),DynamicAdapt.prototype.init=function(){const t=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(let e=0;e<this.nodes.length;e++){const a=this.nodes[e],n=a.dataset.da.trim(),c=n.split(","),i={};i.element=a,i.parent=a.parentNode,i.destination=document.querySelector(c[0].trim()),i.breakpoint=c[1]?c[1].trim():"767",i.place=c[2]?c[2].trim():"last",i.index=this.indexInParent(i.parent,i.element),this.оbjects.push(i)}this.arraySort(this.оbjects),this.mediaQueries=Array.prototype.map.call(this.оbjects,function(e){return"("+this.type+"-width: "+e.breakpoint+"px),"+e.breakpoint},this),this.mediaQueries=Array.prototype.filter.call(this.mediaQueries,function(e,t,o){return Array.prototype.indexOf.call(o,e)===t});for(let e=0;e<this.mediaQueries.length;e++){var o=this.mediaQueries[e],o=String.prototype.split.call(o,",");const r=window.matchMedia(o[0]),l=o[1],s=Array.prototype.filter.call(this.оbjects,function(e){return e.breakpoint===l});r.addListener(function(){t.mediaHandler(r,s)}),this.mediaHandler(r,s)}},DynamicAdapt.prototype.mediaHandler=function(e,t){if(e.matches)for(let e=0;e<t.length;e++){const o=t[e];o.index=this.indexInParent(o.parent,o.element),this.moveTo(o.place,o.element,o.destination)}else for(let e=0;e<t.length;e++){const a=t[e];a.element.classList.contains(this.daClassname)&&this.moveBack(a.parent,a.element,a.index)}},DynamicAdapt.prototype.moveTo=function(e,t,o){t.classList.add(this.daClassname),"last"===e||e>=o.children.length?o.insertAdjacentElement("beforeend",t):"first"!==e?o.children[e].insertAdjacentElement("beforebegin",t):o.insertAdjacentElement("afterbegin",t)},DynamicAdapt.prototype.moveBack=function(e,t,o){t.classList.remove(this.daClassname),void 0!==e.children[o]?e.children[o].insertAdjacentElement("beforebegin",t):e.insertAdjacentElement("beforeend",t)},DynamicAdapt.prototype.indexInParent=function(e,t){e=Array.prototype.slice.call(e.children);return Array.prototype.indexOf.call(e,t)},DynamicAdapt.prototype.arraySort=function(e){"min"===this.type?Array.prototype.sort.call(e,function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint}):Array.prototype.sort.call(e,function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint})};const da=new DynamicAdapt("max");function ibg(){let e=document.querySelectorAll(".ibg");for(var t=0;t<e.length;t++)e[t].querySelector("img")&&(e[t].style.backgroundImage="url("+e[t].querySelector("img").getAttribute("src")+")")}da.init(),ymaps.ready(function(){const e=new ymaps.Map("ymap",{center:[40.530206,72.804061],zoom:18},{searchControlProvider:"yandex#search"}),t=ymaps.templateLayoutFactory.createClass('<div style="color: #FFFFFF; font-weight: bold;">$[properties.iconContent]</div>'),o=new ymaps.Placemark([40.530206,72.804061],{balloonContent:"ИСКА-ТВОЙ ДОМ?",iconContent:"12"},{iconLayout:"default#imageWithContent",iconImageHref:"assets/img/contact/pizza.svg",iconImageSize:[48,48],iconImageOffset:[-24,-24],iconContentOffset:[15,15],iconContentLayout:t});e.geoObjects.add(o)}),ibg();const headerHeight=document.querySelector(".header__inner"),body=document.querySelector("body");body.addEventListener("click",function(e){let t=e.target;t.hasAttribute("data-scroll-to")&&(e=t.closest("[data-scroll-to]").getAttribute("data-scroll-to"),(e=document.querySelector("."+e))&&scrollToSection(e))});let scrollToSection=function(e){e=e.getBoundingClientRect().top,e=window.pageYOffset+e;window.pageYOffset,window.scrollTo({top:e,behavior:"smooth"}),window.matchMedia("(max-width:826px)").matches&&(iconMenu.classList.remove("active"),burger.classList.remove("active"),document.body.classList.remove("lock"))};const swiper=new Swiper(".swiper-container",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",type:"bullets",clickable:!0,dynamicBullets:!1},simulateTouch:!0,touchAngle:90,grabcursor:!0,slideToclickedSlide:!0,keyboard:{enabled:!0,onlyInViewport:!0},watchOverflow:!0,spaceBetween:30,loop:!0,autoplay:{delay:2e3,stopOnLastSlide:!0,disableOnInteraction:!1},speed:800,effect:"slide"});